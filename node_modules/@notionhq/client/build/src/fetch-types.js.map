{"version":3,"file":"fetch-types.js","sourceRoot":"","sources":["../../src/fetch-types.ts"],"names":[],"mappings":"","sourcesContent":["/// <reference lib=\"dom\" />\nimport type { Assert, Await } from \"./type-utils\"\nimport type {\n  RequestInit as NodeRequestInit,\n  Response as NodeResponse,\n} from \"node-fetch\"\n\ntype FetchFn = typeof fetch\ntype FetchResponse = Await<ReturnType<FetchFn>>\ntype RequestInfo = Parameters<FetchFn>[0]\ntype RequestInit = NonNullable<Parameters<FetchFn>[1]>\n\nexport type SupportedRequestInfo = string\ntype _assertSupportedInfoIsSubtype = Assert<RequestInfo, SupportedRequestInfo>\n\nexport type SupportedRequestInit = {\n  agent?: NodeRequestInit[\"agent\"]\n  body?: NonNullable<RequestInit[\"body\"]> & NonNullable<NodeRequestInit[\"body\"]>\n  headers?: NonNullable<RequestInit[\"headers\"]> &\n    NonNullable<NodeRequestInit[\"headers\"]>\n  method?: RequestInit[\"method\"]\n  redirect?: RequestInit[\"redirect\"]\n}\ntype _assertSupportedInitIsSubtype = Assert<RequestInit, SupportedRequestInit>\n\nexport type SupportedResponse = FetchResponse | NodeResponse\n\nexport type SupportedFetch = (\n  url: SupportedRequestInfo,\n  init?: SupportedRequestInit\n) => Promise<SupportedResponse>\n"]}